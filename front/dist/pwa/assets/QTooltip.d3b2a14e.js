import{h as C,c as Se,Y as Ne,Z as Ct,$ as wt,a0 as kt,a1 as Vt,a2 as sl,a3 as qt,a4 as cl,a as h,a5 as dl,k as qe,Q as Ae,a6 as fl,R as vl,s as U,r as O,g as Tt,a7 as Ve,a8 as ee,a9 as Ee,q as z,f as ml,o as be,aa as ze,ab as Ke,ac as vt,ad as hl,ae as gl,af as It,ag as Ht,ah as At,n as Et,p as Lt,ai as Pt,aj as Ot,ak as pt,al as yl,am as bl,an as Sl,ao as mt,ap as Bt,aq as xl,z as Ft,W as Mt,ar as Cl,as as wl,at as kl,au as Vl,av as ql,aw as ht,l as ke,ax as Tl,ay as Il,az as Hl,aA as ye,j as Al,aB as El,d as Ll}from"./index.cc4f0594.js";import{a as Pl,b as Ol,Q as pl}from"./QItemLabel.af216219.js";import{u as Bl,a as Fl}from"./use-virtual-scroll.b44eea41.js";import{n as gt}from"./format.a33550d6.js";import{c as je}from"./selection.6b17297b.js";const Ml=C("div",{class:"q-space"});var Gl=Se({name:"QSpace",setup(){return()=>Ml}}),Dl=Se({name:"QField",inheritAttrs:!1,props:{...Ne,tag:{type:String,default:"label"}},emits:Ct,setup(){return wt(kt({requiredForAttr:!1,tagProp:!0}))}});const _l={xs:8,sm:10,md:14,lg:20,xl:24};var Rl=Se({name:"QChip",props:{...Vt,...sl,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:n,emit:l}){const{proxy:{$q:u}}=qe(),c=qt(e,u),r=cl(e,_l),s=h(()=>e.selected===!0||e.icon!==void 0),d=h(()=>e.selected===!0?e.iconSelected||u.iconSet.chip.selected:e.icon),v=h(()=>e.iconRemove||u.iconSet.chip.remove),g=h(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),x=h(()=>{const y=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(y?` text-${y} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(g.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(c.value===!0?" q-chip--dark q-dark":"")}),V=h(()=>{const y=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},D={...y,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||u.lang.label.remove};return{chip:y,remove:D}});function q(y){y.keyCode===13&&f(y)}function f(y){e.disable||(l("update:selected",!e.selected),l("click",y))}function m(y){(y.keyCode===void 0||y.keyCode===13)&&(U(y),e.disable===!1&&(l("update:modelValue",!1),l("remove")))}function p(){const y=[];g.value===!0&&y.push(C("div",{class:"q-focus-helper"})),s.value===!0&&y.push(C(Ae,{class:"q-chip__icon q-chip__icon--left",name:d.value}));const D=e.label!==void 0?[C("div",{class:"ellipsis"},[e.label])]:void 0;return y.push(C("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},fl(n.default,D))),e.iconRight&&y.push(C(Ae,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&y.push(C(Ae,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:v.value,...V.value.remove,onClick:m,onKeyup:m})),y}return()=>{if(e.modelValue===!1)return;const y={class:x.value,style:r.value};return g.value===!0&&Object.assign(y,V.value.chip,{onClick:f,onKeyup:q}),dl("div",y,p(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[vl,e.ripple]])}}});const Dt={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function _t({showing:e,avoidEmit:n,configureAnchorEl:l}){const{props:u,proxy:c,emit:r}=qe(),s=O(null);let d=null;function v(f){return s.value===null?!1:f===void 0||f.touches===void 0||f.touches.length<=1}const g={};l===void 0&&(Object.assign(g,{hide(f){c.hide(f)},toggle(f){c.toggle(f),f.qAnchorHandled=!0},toggleKey(f){Tt(f,13)===!0&&g.toggle(f)},contextClick(f){c.hide(f),Ve(f),ee(()=>{c.show(f),f.qAnchorHandled=!0})},prevent:Ve,mobileTouch(f){if(g.mobileCleanup(f),v(f)!==!0)return;c.hide(f),s.value.classList.add("non-selectable");const m=f.target;Ee(g,"anchor",[[m,"touchmove","mobileCleanup","passive"],[m,"touchend","mobileCleanup","passive"],[m,"touchcancel","mobileCleanup","passive"],[s.value,"contextmenu","prevent","notPassive"]]),d=setTimeout(()=>{d=null,c.show(f),f.qAnchorHandled=!0},300)},mobileCleanup(f){s.value.classList.remove("non-selectable"),d!==null&&(clearTimeout(d),d=null),e.value===!0&&f!==void 0&&je()}}),l=function(f=u.contextMenu){if(u.noParentEvent===!0||s.value===null)return;let m;f===!0?c.$q.platform.is.mobile===!0?m=[[s.value,"touchstart","mobileTouch","passive"]]:m=[[s.value,"mousedown","hide","passive"],[s.value,"contextmenu","contextClick","notPassive"]]:m=[[s.value,"click","toggle","passive"],[s.value,"keyup","toggleKey","passive"]],Ee(g,"anchor",m)});function x(){ze(g,"anchor")}function V(f){for(s.value=f;s.value.classList.contains("q-anchor--skip");)s.value=s.value.parentNode;l()}function q(){if(u.target===!1||u.target===""||c.$el.parentNode===null)s.value=null;else if(u.target===!0)V(c.$el.parentNode);else{let f=u.target;if(typeof u.target=="string")try{f=document.querySelector(u.target)}catch{f=void 0}f!=null?(s.value=f.$el||f,l()):(s.value=null,console.error(`Anchor: target "${u.target}" not found`))}}return z(()=>u.contextMenu,f=>{s.value!==null&&(x(),l(f))}),z(()=>u.target,()=>{s.value!==null&&x(),q()}),z(()=>u.noParentEvent,f=>{s.value!==null&&(f===!0?x():l())}),ml(()=>{q(),n!==!0&&u.modelValue===!0&&s.value===null&&r("update:modelValue",!1)}),be(()=>{d!==null&&clearTimeout(d),x()}),{anchorEl:s,canShow:v,anchorEvents:g}}function Rt(e,n){const l=O(null);let u;function c(d,v){const g=`${v!==void 0?"add":"remove"}EventListener`,x=v!==void 0?v:u;d!==window&&d[g]("scroll",x,Ke.passive),window[g]("scroll",x,Ke.passive),u=v}function r(){l.value!==null&&(c(l.value),l.value=null)}const s=z(()=>e.noParentEvent,()=>{l.value!==null&&(r(),n())});return be(s),{localScrollTarget:l,unconfigureScrollTarget:r,changeScrollEvent:c}}const{notPassiveCapture:Le}=Ke,re=[];function Pe(e){const n=e.target;if(n===void 0||n.nodeType===8||n.classList.contains("no-pointer-events")===!0)return;let l=vt.length-1;for(;l>=0;){const u=vt[l].$;if(u.type.name==="QTooltip"){l--;continue}if(u.type.name!=="QDialog")break;if(u.props.seamless!==!0)return;l--}for(let u=re.length-1;u>=0;u--){const c=re[u];if((c.anchorEl.value===null||c.anchorEl.value.contains(n)===!1)&&(n===document.body||c.innerRef.value!==null&&c.innerRef.value.contains(n)===!1))e.qClickOutside=!0,c.onClickOutside(e);else return}}function Wt(e){re.push(e),re.length===1&&(document.addEventListener("mousedown",Pe,Le),document.addEventListener("touchstart",Pe,Le))}function Oe(e){const n=re.findIndex(l=>l===e);n>-1&&(re.splice(n,1),re.length===0&&(document.removeEventListener("mousedown",Pe,Le),document.removeEventListener("touchstart",Pe,Le)))}let yt,bt;function pe(e){const n=e.split(" ");return n.length!==2?!1:["top","center","bottom"].includes(n[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(n[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function $t(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const Qe={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{Qe[`${e}#ltr`]=e,Qe[`${e}#rtl`]=e});function Be(e,n){const l=e.split(" ");return{vertical:l[0],horizontal:Qe[`${l[1]}#${n===!0?"rtl":"ltr"}`]}}function Wl(e,n){let{top:l,left:u,right:c,bottom:r,width:s,height:d}=e.getBoundingClientRect();return n!==void 0&&(l-=n[1],u-=n[0],r+=n[1],c+=n[0],s+=n[0],d+=n[1]),{top:l,bottom:r,height:d,left:u,right:c,width:s,middle:u+(c-u)/2,center:l+(r-l)/2}}function $l(e,n,l){let{top:u,left:c}=e.getBoundingClientRect();return u+=n.top,c+=n.left,l!==void 0&&(u+=l[1],c+=l[0]),{top:u,bottom:u+1,height:1,left:c,right:c+1,width:1,middle:c,center:u}}function zl(e,n){return{top:0,center:n/2,bottom:n,left:0,middle:e/2,right:e}}function St(e,n,l,u){return{top:e[l.vertical]-n[u.vertical],left:e[l.horizontal]-n[u.horizontal]}}function Ue(e,n=0){if(e.targetEl===null||e.anchorEl===null||n>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{Ue(e,n+1)},10);return}const{targetEl:l,offset:u,anchorEl:c,anchorOrigin:r,selfOrigin:s,absoluteOffset:d,fit:v,cover:g,maxHeight:x,maxWidth:V}=e;if(hl.is.ios===!0&&window.visualViewport!==void 0){const T=document.body.style,{offsetLeft:E,offsetTop:B}=window.visualViewport;E!==yt&&(T.setProperty("--q-pe-left",E+"px"),yt=E),B!==bt&&(T.setProperty("--q-pe-top",B+"px"),bt=B)}const{scrollLeft:q,scrollTop:f}=l,m=d===void 0?Wl(c,g===!0?[0,0]:u):$l(c,d,u);Object.assign(l.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:V||"100vw",maxHeight:x||"100vh",visibility:"visible"});const{offsetWidth:p,offsetHeight:y}=l,{elWidth:D,elHeight:N}=v===!0||g===!0?{elWidth:Math.max(m.width,p),elHeight:g===!0?Math.max(m.height,y):y}:{elWidth:p,elHeight:y};let A={maxWidth:V,maxHeight:x};(v===!0||g===!0)&&(A.minWidth=m.width+"px",g===!0&&(A.minHeight=m.height+"px")),Object.assign(l.style,A);const R=zl(D,N);let w=St(m,R,r,s);if(d===void 0||u===void 0)$e(w,m,R,r,s);else{const{top:T,left:E}=w;$e(w,m,R,r,s);let B=!1;if(w.top!==T){B=!0;const F=2*u[1];m.center=m.top-=F,m.bottom-=F+2}if(w.left!==E){B=!0;const F=2*u[0];m.middle=m.left-=F,m.right-=F+2}B===!0&&(w=St(m,R,r,s),$e(w,m,R,r,s))}A={top:w.top+"px",left:w.left+"px"},w.maxHeight!==void 0&&(A.maxHeight=w.maxHeight+"px",m.height>w.maxHeight&&(A.minHeight=A.maxHeight)),w.maxWidth!==void 0&&(A.maxWidth=w.maxWidth+"px",m.width>w.maxWidth&&(A.minWidth=A.maxWidth)),Object.assign(l.style,A),l.scrollTop!==f&&(l.scrollTop=f),l.scrollLeft!==q&&(l.scrollLeft=q)}function $e(e,n,l,u,c){const r=l.bottom,s=l.right,d=gl(),v=window.innerHeight-d,g=document.body.clientWidth;if(e.top<0||e.top+r>v)if(c.vertical==="center")e.top=n[u.vertical]>v/2?Math.max(0,v-r):0,e.maxHeight=Math.min(r,v);else if(n[u.vertical]>v/2){const x=Math.min(v,u.vertical==="center"?n.center:u.vertical===c.vertical?n.bottom:n.top);e.maxHeight=Math.min(r,x),e.top=Math.max(0,x-r)}else e.top=Math.max(0,u.vertical==="center"?n.center:u.vertical===c.vertical?n.top:n.bottom),e.maxHeight=Math.min(r,v-e.top);if(e.left<0||e.left+s>g)if(e.maxWidth=Math.min(s,g),c.horizontal==="middle")e.left=n[u.horizontal]>g/2?Math.max(0,g-s):0;else if(n[u.horizontal]>g/2){const x=Math.min(g,u.horizontal==="middle"?n.middle:u.horizontal===c.horizontal?n.right:n.left);e.maxWidth=Math.min(s,x),e.left=Math.max(0,x-e.maxWidth)}else e.left=Math.max(0,u.horizontal==="middle"?n.middle:u.horizontal===c.horizontal?n.left:n.right),e.maxWidth=Math.min(s,g-e.left)}var Kl=Se({name:"QMenu",inheritAttrs:!1,props:{...Dt,...It,...Vt,...Ht,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:pe},self:{type:String,validator:pe},offset:{type:Array,validator:$t},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...At,"click","escapeKey"],setup(e,{slots:n,emit:l,attrs:u}){let c=null,r,s,d;const v=qe(),{proxy:g}=v,{$q:x}=g,V=O(null),q=O(!1),f=h(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),m=qt(e,x),{registerTick:p,removeTick:y}=Et(),{registerTimeout:D}=Lt(),{transitionProps:N,transitionStyle:A}=Pt(e),{localScrollTarget:R,changeScrollEvent:w,unconfigureScrollTarget:T}=Rt(e,P),{anchorEl:E,canShow:B}=_t({showing:q}),{hide:F}=Ot({showing:q,canShow:B,handleShow:ue,handleHide:o,hideOnRouteChange:f,processOnMount:!0}),{showPortal:X,hidePortal:Y,renderPortal:$}=pt(v,V,ae,"menu"),te={anchorEl:E,innerRef:V,onClickOutside(S){if(e.persistent!==!0&&q.value===!0)return F(S),(S.type==="touchstart"||S.target.classList.contains("q-dialog__backdrop"))&&U(S),!0}},se=h(()=>Be(e.anchor||(e.cover===!0?"center middle":"bottom start"),x.lang.rtl)),le=h(()=>e.cover===!0?se.value:Be(e.self||"top start",x.lang.rtl)),K=h(()=>(e.square===!0?" q-menu--square":"")+(m.value===!0?" q-menu--dark q-dark":"")),xe=h(()=>e.autoClose===!0?{onClick:j}:{}),ne=h(()=>q.value===!0&&e.persistent!==!0);z(ne,S=>{S===!0?(Cl(G),Wt(te)):(mt(G),Oe(te))});function Z(){wl(()=>{let S=V.value;S&&S.contains(document.activeElement)!==!0&&(S=S.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||S.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||S.querySelector("[autofocus], [data-autofocus]")||S,S.focus({preventScroll:!0}))})}function ue(S){if(c=e.noRefocus===!1?document.activeElement:null,yl(_),X(),P(),r=void 0,S!==void 0&&(e.touchPosition||e.contextMenu)){const ce=bl(S);if(ce.left!==void 0){const{top:Ce,left:Fe}=E.value.getBoundingClientRect();r={left:ce.left-Fe,top:ce.top-Ce}}}s===void 0&&(s=z(()=>x.screen.width+"|"+x.screen.height+"|"+e.self+"|"+e.anchor+"|"+x.lang.rtl,J)),e.noFocus!==!0&&document.activeElement.blur(),p(()=>{J(),e.noFocus!==!0&&Z()}),D(()=>{x.platform.is.ios===!0&&(d=e.autoClose,V.value.click()),J(),X(!0),l("show",S)},e.transitionDuration)}function o(S){y(),Y(),H(!0),c!==null&&(S===void 0||S.qClickOutside!==!0)&&(((S&&S.type.indexOf("key")===0?c.closest('[tabindex]:not([tabindex^="-"])'):void 0)||c).focus(),c=null),D(()=>{Y(!0),l("hide",S)},e.transitionDuration)}function H(S){r=void 0,s!==void 0&&(s(),s=void 0),(S===!0||q.value===!0)&&(Sl(_),T(),Oe(te),mt(G)),S!==!0&&(c=null)}function P(){(E.value!==null||e.scrollTarget!==void 0)&&(R.value=Bt(E.value,e.scrollTarget),w(R.value,J))}function j(S){d!==!0?(xl(g,S),l("click",S)):d=!1}function _(S){ne.value===!0&&e.noFocus!==!0&&kl(V.value,S.target)!==!0&&Z()}function G(S){l("escapeKey"),F(S)}function J(){Ue({targetEl:V.value,offset:e.offset,anchorEl:E.value,anchorOrigin:se.value,selfOrigin:le.value,absoluteOffset:r,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function ae(){return C(Mt,N.value,()=>q.value===!0?C("div",{role:"menu",...u,ref:V,tabindex:-1,class:["q-menu q-position-engine scroll"+K.value,u.class],style:[u.style,A.value],...xe.value},Ft(n.default)):null)}return be(H),Object.assign(g,{focus:Z,updatePosition:J}),$}});const xt=e=>["add","add-unique","toggle"].includes(e),jl=".*+?^${}()|[]\\",Ql=Object.keys(Ne);var Jl=Se({name:"QSelect",inheritAttrs:!1,props:{...Bl,...Vl,...Ne,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:xt},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...Ct,"add","remove","inputValue","newValue","keyup","keypress","keydown","filterAbort"],setup(e,{slots:n,emit:l}){const{proxy:u}=qe(),{$q:c}=u,r=O(!1),s=O(!1),d=O(-1),v=O(""),g=O(!1),x=O(!1);let V=null,q=null,f,m,p,y=null,D,N,A,R;const w=O(null),T=O(null),E=O(null),B=O(null),F=O(null),X=ql(e),Y=Hl(rt),$=h(()=>Array.isArray(e.options)?e.options.length:0),te=h(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:se,virtualScrollSliceSizeComputed:le,localResetVirtualScroll:K,padVirtualScroll:xe,onVirtualScrollEvt:ne,scrollTo:Z,setVirtualScrollSize:ue}=Fl({virtualScrollLength:$,getVirtualScrollTarget:Yt,getVirtualScrollEl:it,virtualScrollItemSizeComputed:te}),o=kt(),H=h(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,i=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const a=e.mapOptions===!0&&f!==void 0?f:[],b=i.map(I=>Xt(I,a));return e.modelValue===null&&t===!0?b.filter(I=>I!==null):b}return i}),P=h(()=>{const t={};return Ql.forEach(i=>{const a=e[i];a!==void 0&&(t[i]=a)}),t}),j=h(()=>e.optionsDark===null?o.isDark.value:e.optionsDark),_=h(()=>ht(H.value)),G=h(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||H.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),J=h(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),ae=h(()=>$.value===0),S=h(()=>H.value.map(t=>W.value(t)).join(", ")),ce=h(()=>e.displayValue!==void 0?e.displayValue:S.value),Ce=h(()=>e.optionsHtml===!0?()=>!0:t=>t!=null&&t.html===!0),Fe=h(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||H.value.some(Ce.value))),Xe=h(()=>o.focused.value===!0?e.tabindex:-1),Ye=h(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":r.value===!0?"true":"false","aria-controls":`${o.targetUid.value}_lb`};return d.value>=0&&(t["aria-activedescendant"]=`${o.targetUid.value}_${d.value}`),t}),Ze=h(()=>({id:`${o.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),Ge=h(()=>H.value.map((t,i)=>({index:i,opt:t,html:Ce.value(t),selected:!0,removeAtIndex:Ut,toggleOption:ie,tabindex:Xe.value}))),zt=h(()=>{if($.value===0)return[];const{from:t,to:i}=se.value;return e.options.slice(t,i).map((a,b)=>{const I=de.value(a)===!0,k=t+b,L={clickable:!0,active:!1,activeClass:Qt.value,manualFocus:!0,focused:!1,disable:I,tabindex:-1,dense:e.optionsDense,dark:j.value,role:"option",id:`${o.targetUid.value}_${k}`,onClick:()=>{ie(a)}};return I!==!0&&(_e(a)===!0&&(L.active=!0),d.value===k&&(L.focused=!0),L["aria-selected"]=L.active===!0?"true":"false",c.platform.is.desktop===!0&&(L.onMousemove=()=>{r.value===!0&&fe(k)})),{index:k,opt:a,html:Ce.value(a),label:W.value(a),selected:L.active,focused:L.focused,toggleOption:ie,setOptionIndex:fe,itemProps:L}})}),Kt=h(()=>e.dropdownIcon!==void 0?e.dropdownIcon:c.iconSet.arrow.dropdown),jt=h(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),Qt=h(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),Q=h(()=>De(e.optionValue,"value")),W=h(()=>De(e.optionLabel,"label")),de=h(()=>De(e.optionDisable,"disable")),Te=h(()=>H.value.map(t=>Q.value(t))),Nt=h(()=>{const t={onInput:rt,onChange:Y,onKeydown:at,onKeyup:nt,onKeypress:ut,onFocus:tt,onClick(i){m===!0&&ye(i)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=Y,t});z(H,t=>{f=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&o.innerLoading.value!==!0&&(s.value!==!0&&r.value!==!0||_.value!==!0)&&(p!==!0&&ge(),(s.value===!0||r.value===!0)&&ve(""))},{immediate:!0}),z(()=>e.fillInput,ge),z(r,Re),z($,rl);function Je(t){return e.emitValue===!0?Q.value(t):t}function Me(t){if(t>-1&&t<H.value.length)if(e.multiple===!0){const i=e.modelValue.slice();l("remove",{index:t,value:i.splice(t,1)[0]}),l("update:modelValue",i)}else l("update:modelValue",null)}function Ut(t){Me(t),o.focus()}function et(t,i){const a=Je(t);if(e.multiple!==!0){e.fillInput===!0&&we(W.value(t),!0,!0),l("update:modelValue",a);return}if(H.value.length===0){l("add",{index:0,value:a}),l("update:modelValue",e.multiple===!0?[a]:a);return}if(i===!0&&_e(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const b=e.modelValue.slice();l("add",{index:b.length,value:a}),b.push(a),l("update:modelValue",b)}function ie(t,i){if(o.editable.value!==!0||t===void 0||de.value(t)===!0)return;const a=Q.value(t);if(e.multiple!==!0){i!==!0&&(we(e.fillInput===!0?W.value(t):"",!0,!0),oe()),T.value!==null&&T.value.focus(),(H.value.length===0||ke(Q.value(H.value[0]),a)!==!0)&&l("update:modelValue",e.emitValue===!0?a:t);return}if((m!==!0||g.value===!0)&&o.focus(),tt(),H.value.length===0){const k=e.emitValue===!0?a:t;l("add",{index:0,value:k}),l("update:modelValue",e.multiple===!0?[k]:k);return}const b=e.modelValue.slice(),I=Te.value.findIndex(k=>ke(k,a));if(I>-1)l("remove",{index:I,value:b.splice(I,1)[0]});else{if(e.maxValues!==void 0&&b.length>=e.maxValues)return;const k=e.emitValue===!0?a:t;l("add",{index:b.length,value:k}),b.push(k)}l("update:modelValue",b)}function fe(t){if(c.platform.is.desktop!==!0)return;const i=t>-1&&t<$.value?t:-1;d.value!==i&&(d.value=i)}function Ie(t=1,i){if(r.value===!0){let a=d.value;do a=gt(a+t,-1,$.value-1);while(a!==-1&&a!==d.value&&de.value(e.options[a])===!0);d.value!==a&&(fe(a),Z(a),i!==!0&&e.useInput===!0&&e.fillInput===!0&&He(a>=0?W.value(e.options[a]):D,!0))}}function Xt(t,i){const a=b=>ke(Q.value(b),t);return e.options.find(a)||i.find(a)||t}function De(t,i){const a=t!==void 0?t:i;return typeof a=="function"?a:b=>b!==null&&typeof b=="object"&&a in b?b[a]:b}function _e(t){const i=Q.value(t);return Te.value.find(a=>ke(a,i))!==void 0}function tt(t){e.useInput===!0&&T.value!==null&&(t===void 0||T.value===t.target&&t.target.value===S.value)&&T.value.select()}function lt(t){Tt(t,27)===!0&&r.value===!0&&(ye(t),oe(),ge()),l("keyup",t)}function nt(t){const{value:i}=t.target;if(t.keyCode!==void 0){lt(t);return}if(t.target.value="",V!==null&&(clearTimeout(V),V=null),q!==null&&(clearTimeout(q),q=null),ge(),typeof i=="string"&&i.length!==0){const a=i.toLocaleLowerCase(),b=k=>{const L=e.options.find(M=>k.value(M).toLocaleLowerCase()===a);return L===void 0?!1:(H.value.indexOf(L)===-1?ie(L):oe(),!0)},I=k=>{b(Q)!==!0&&(b(W)===!0||k===!0||ve(i,!0,()=>I(!0)))};I()}else o.clearValue(t)}function ut(t){l("keypress",t)}function at(t){if(l("keydown",t),Al(t)===!0)return;const i=v.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),a=t.shiftKey!==!0&&e.multiple!==!0&&(d.value>-1||i===!0);if(t.keyCode===27){Ve(t);return}if(t.keyCode===9&&a===!1){me();return}if(t.target===void 0||t.target.id!==o.targetUid.value||o.editable.value!==!0)return;if(t.keyCode===40&&o.innerLoading.value!==!0&&r.value===!1){U(t),he();return}if(t.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&v.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?Me(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&l("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof v.value!="string"||v.value.length===0)&&(U(t),d.value=-1,Ie(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&le.value!==void 0&&(U(t),d.value=Math.max(-1,Math.min($.value,d.value+(t.keyCode===33?-1:1)*le.value.view)),Ie(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(U(t),Ie(t.keyCode===38?-1:1,e.multiple));const b=$.value;if((A===void 0||R<Date.now())&&(A=""),b>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||A.length!==0)){r.value!==!0&&he(t);const I=t.key.toLocaleLowerCase(),k=A.length===1&&A[0]===I;R=Date.now()+1500,k===!1&&(U(t),A+=I);const L=new RegExp("^"+A.split("").map(We=>jl.indexOf(We)>-1?"\\"+We:We).join(".*"),"i");let M=d.value;if(k===!0||M<0||L.test(W.value(e.options[M]))!==!0)do M=gt(M+1,-1,b-1);while(M!==d.value&&(de.value(e.options[M])===!0||L.test(W.value(e.options[M]))!==!0));d.value!==M&&ee(()=>{fe(M),Z(M),M>=0&&e.useInput===!0&&e.fillInput===!0&&He(W.value(e.options[M]),!0)});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||A!=="")&&(t.keyCode!==9||a===!1))){if(t.keyCode!==9&&U(t),d.value>-1&&d.value<b){ie(e.options[d.value]);return}if(i===!0){const I=(k,L)=>{if(L){if(xt(L)!==!0)return}else L=e.newValueMode;if(we("",e.multiple!==!0,!0),k==null)return;(L==="toggle"?ie:et)(k,L==="add-unique"),e.multiple!==!0&&(T.value!==null&&T.value.focus(),oe())};if(e.onNewValue!==void 0?l("newValue",v.value,I):I(v.value),e.multiple!==!0)return}r.value===!0?me():o.innerLoading.value!==!0&&he()}}function it(){return m===!0?F.value:E.value!==null&&E.value.contentEl!==null?E.value.contentEl:void 0}function Yt(){return it()}function Zt(){return e.hideSelected===!0?[]:n["selected-item"]!==void 0?Ge.value.map(t=>n["selected-item"](t)).slice():n.selected!==void 0?[].concat(n.selected()):e.useChips===!0?Ge.value.map((t,i)=>C(Rl,{key:"option-"+i,removable:o.editable.value===!0&&de.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:Xe.value,onRemove(){t.removeAtIndex(i)}},()=>C("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:W.value(t.opt)}))):[C("span",{[Fe.value===!0?"innerHTML":"textContent"]:ce.value})]}function ot(){if(ae.value===!0)return n["no-option"]!==void 0?n["no-option"]({inputValue:v.value}):void 0;const t=n.option!==void 0?n.option:a=>C(pl,{key:a.index,...a.itemProps},()=>C(Pl,()=>C(Ol,()=>C("span",{[a.html===!0?"innerHTML":"textContent"]:a.label}))));let i=xe("div",zt.value.map(t));return n["before-options"]!==void 0&&(i=n["before-options"]().concat(i)),Ll(n["after-options"],i)}function Gt(t,i){const a=i===!0?{...Ye.value,...o.splitAttrs.attributes.value}:void 0,b={ref:i===!0?T:void 0,key:"i_t",class:G.value,style:e.inputStyle,value:v.value!==void 0?v.value:"",type:"search",...a,id:i===!0?o.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...Nt.value};return t!==!0&&m===!0&&(Array.isArray(b.class)===!0?b.class=[...b.class,"no-pointer-events"]:b.class+=" no-pointer-events"),C("input",b)}function rt(t){V!==null&&(clearTimeout(V),V=null),q!==null&&(clearTimeout(q),q=null),!(t&&t.target&&t.target.qComposing===!0)&&(He(t.target.value||""),p=!0,D=v.value,o.focused.value!==!0&&(m!==!0||g.value===!0)&&o.focus(),e.onFilter!==void 0&&(V=setTimeout(()=>{V=null,ve(v.value)},e.inputDebounce)))}function He(t,i){v.value!==t&&(v.value=t,i===!0||e.inputDebounce===0||e.inputDebounce==="0"?l("inputValue",t):q=setTimeout(()=>{q=null,l("inputValue",t)},e.inputDebounce))}function we(t,i,a){p=a!==!0,e.useInput===!0&&(He(t,!0),(i===!0||a!==!0)&&(D=t),i!==!0&&ve(t))}function ve(t,i,a){if(e.onFilter===void 0||i!==!0&&o.focused.value!==!0)return;o.innerLoading.value===!0?l("filterAbort"):(o.innerLoading.value=!0,x.value=!0),t!==""&&e.multiple!==!0&&H.value.length!==0&&p!==!0&&t===W.value(H.value[0])&&(t="");const b=setTimeout(()=>{r.value===!0&&(r.value=!1)},10);y!==null&&clearTimeout(y),y=b,l("filter",t,(I,k)=>{(i===!0||o.focused.value===!0)&&y===b&&(clearTimeout(y),typeof I=="function"&&I(),x.value=!1,ee(()=>{o.innerLoading.value=!1,o.editable.value===!0&&(i===!0?r.value===!0&&oe():r.value===!0?Re(!0):r.value=!0),typeof k=="function"&&ee(()=>{k(u)}),typeof a=="function"&&ee(()=>{a(u)})}))},()=>{o.focused.value===!0&&y===b&&(clearTimeout(y),o.innerLoading.value=!1,x.value=!1),r.value===!0&&(r.value=!1)})}function Jt(){return C(Kl,{ref:E,class:J.value,style:e.popupContentStyle,modelValue:r.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&ae.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:j.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:jt.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...Ze.value,onScrollPassive:ne,onBeforeShow:ct,onBeforeHide:el,onShow:tl},ot)}function el(t){dt(t),me()}function tl(){ue()}function ll(t){ye(t),T.value!==null&&T.value.focus(),g.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function nl(t){ye(t),ee(()=>{g.value=!1})}function ul(){const t=[C(Dl,{class:`col-auto ${o.fieldClass.value}`,...P.value,for:o.targetUid.value,dark:j.value,square:!0,loading:x.value,itemAligned:!1,filled:!0,stackLabel:v.value.length!==0,...o.splitAttrs.listeners.value,onFocus:ll,onBlur:nl},{...n,rawControl:()=>o.getControl(!0),before:void 0,after:void 0})];return r.value===!0&&t.push(C("div",{ref:F,class:J.value+" scroll",style:e.popupContentStyle,...Ze.value,onClick:Ve,onScrollPassive:ne},ot())),C(El,{ref:B,modelValue:s.value,position:e.useInput===!0?"top":void 0,transitionShow:N,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:ct,onBeforeHide:al,onHide:il,onShow:ol},()=>C("div",{class:"q-select__dialog"+(j.value===!0?" q-select__dialog--dark q-dark":"")+(g.value===!0?" q-select__dialog--focused":"")},t))}function al(t){dt(t),B.value!==null&&B.value.__updateRefocusTarget(o.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),o.focused.value=!1}function il(t){oe(),o.focused.value===!1&&l("blur",t),ge()}function ol(){const t=document.activeElement;(t===null||t.id!==o.targetUid.value)&&T.value!==null&&T.value!==t&&T.value.focus(),ue()}function me(){s.value!==!0&&(d.value=-1,r.value===!0&&(r.value=!1),o.focused.value===!1&&(y!==null&&(clearTimeout(y),y=null),o.innerLoading.value===!0&&(l("filterAbort"),o.innerLoading.value=!1,x.value=!1)))}function he(t){o.editable.value===!0&&(m===!0?(o.onControlFocusin(t),s.value=!0,ee(()=>{o.focus()})):o.focus(),e.onFilter!==void 0?ve(v.value):(ae.value!==!0||n["no-option"]!==void 0)&&(r.value=!0))}function oe(){s.value=!1,me()}function ge(){e.useInput===!0&&we(e.multiple!==!0&&e.fillInput===!0&&H.value.length!==0&&W.value(H.value[0])||"",!0,!0)}function Re(t){let i=-1;if(t===!0){if(H.value.length!==0){const a=Q.value(H.value[0]);i=e.options.findIndex(b=>ke(Q.value(b),a))}K(i)}fe(i)}function rl(t,i){r.value===!0&&o.innerLoading.value===!1&&(K(-1,!0),ee(()=>{r.value===!0&&o.innerLoading.value===!1&&(t>i?K():Re(!0))}))}function st(){s.value===!1&&E.value!==null&&E.value.updatePosition()}function ct(t){t!==void 0&&ye(t),l("popupShow",t),o.hasPopupOpen=!0,o.onControlFocusin(t)}function dt(t){t!==void 0&&ye(t),l("popupHide",t),o.hasPopupOpen=!1,o.onControlFocusout(t)}function ft(){m=c.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?n["no-option"]!==void 0||e.onFilter!==void 0||ae.value===!1:!0),N=c.platform.is.ios===!0&&m===!0&&e.useInput===!0?"fade":e.transitionShow}return Tl(ft),Il(st),ft(),be(()=>{V!==null&&clearTimeout(V),q!==null&&clearTimeout(q)}),Object.assign(u,{showPopup:he,hidePopup:oe,removeAtIndex:Me,add:et,toggleOption:ie,getOptionIndex:()=>d.value,setOptionIndex:fe,moveOptionSelection:Ie,filter:ve,updateMenuPosition:st,updateInputValue:we,isOptionSelected:_e,getEmittingOptionValue:Je,isOptionDisabled:(...t)=>de.value.apply(null,t)===!0,getOptionValue:(...t)=>Q.value.apply(null,t),getOptionLabel:(...t)=>W.value.apply(null,t)}),Object.assign(o,{innerValue:H,fieldClass:h(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:w,targetRef:T,hasValue:_,showPopup:he,floatingLabel:h(()=>e.hideSelected!==!0&&_.value===!0||typeof v.value=="number"||v.value.length!==0||ht(e.displayValue)),getControlChild:()=>{if(o.editable.value!==!1&&(s.value===!0||ae.value!==!0||n["no-option"]!==void 0))return m===!0?ul():Jt();o.hasPopupOpen===!0&&(o.hasPopupOpen=!1)},controlEvents:{onFocusin(t){o.onControlFocusin(t)},onFocusout(t){o.onControlFocusout(t,()=>{ge(),me()})},onClick(t){if(Ve(t),m!==!0&&r.value===!0){me(),T.value!==null&&T.value.focus();return}he(t)}},getControl:t=>{const i=Zt(),a=t===!0||s.value!==!0||m!==!0;if(e.useInput===!0)i.push(Gt(t,a));else if(o.editable.value===!0){const I=a===!0?Ye.value:void 0;i.push(C("input",{ref:a===!0?T:void 0,key:"d_t",class:"q-select__focus-target",id:a===!0?o.targetUid.value:void 0,value:ce.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...I,onKeydown:at,onKeyup:lt,onKeypress:ut})),a===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&i.push(C("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:nt}))}if(X.value!==void 0&&e.disable!==!0&&Te.value.length!==0){const I=Te.value.map(k=>C("option",{value:k,selected:!0}));i.push(C("select",{class:"hidden",name:X.value,multiple:e.multiple},I))}const b=e.useInput===!0||a!==!0?void 0:o.splitAttrs.attributes.value;return C("div",{class:"q-field__native row items-center",...b,...o.splitAttrs.listeners.value},i)},getInnerAppend:()=>e.loading!==!0&&x.value!==!0&&e.hideDropdownIcon!==!0?[C(Ae,{class:"q-select__dropdown-icon"+(r.value===!0?" rotate-180":""),name:Kt.value})]:null}),wt(o)}}),en=Se({name:"QTooltip",inheritAttrs:!1,props:{...Dt,...It,...Ht,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:pe},self:{type:String,default:"top middle",validator:pe},offset:{type:Array,default:()=>[14,14],validator:$t},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}},emits:[...At],setup(e,{slots:n,emit:l,attrs:u}){let c,r;const s=qe(),{proxy:{$q:d}}=s,v=O(null),g=O(!1),x=h(()=>Be(e.anchor,d.lang.rtl)),V=h(()=>Be(e.self,d.lang.rtl)),q=h(()=>e.persistent!==!0),{registerTick:f,removeTick:m}=Et(),{registerTimeout:p}=Lt(),{transitionProps:y,transitionStyle:D}=Pt(e),{localScrollTarget:N,changeScrollEvent:A,unconfigureScrollTarget:R}=Rt(e,ue),{anchorEl:w,canShow:T,anchorEvents:E}=_t({showing:g,configureAnchorEl:Z}),{show:B,hide:F}=Ot({showing:g,canShow:T,handleShow:te,handleHide:se,hideOnRouteChange:q,processOnMount:!0});Object.assign(E,{delayShow:xe,delayHide:ne});const{showPortal:X,hidePortal:Y,renderPortal:$}=pt(s,v,H,"tooltip");if(d.platform.is.mobile===!0){const P={anchorEl:w,innerRef:v,onClickOutside(_){return F(_),_.target.classList.contains("q-dialog__backdrop")&&U(_),!0}},j=h(()=>e.modelValue===null&&e.persistent!==!0&&g.value===!0);z(j,_=>{(_===!0?Wt:Oe)(P)}),be(()=>{Oe(P)})}function te(P){X(),f(()=>{r=new MutationObserver(()=>K()),r.observe(v.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),K(),ue()}),c===void 0&&(c=z(()=>d.screen.width+"|"+d.screen.height+"|"+e.self+"|"+e.anchor+"|"+d.lang.rtl,K)),p(()=>{X(!0),l("show",P)},e.transitionDuration)}function se(P){m(),Y(),le(),p(()=>{Y(!0),l("hide",P)},e.transitionDuration)}function le(){r!==void 0&&(r.disconnect(),r=void 0),c!==void 0&&(c(),c=void 0),R(),ze(E,"tooltipTemp")}function K(){Ue({targetEl:v.value,offset:e.offset,anchorEl:w.value,anchorOrigin:x.value,selfOrigin:V.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function xe(P){if(d.platform.is.mobile===!0){je(),document.body.classList.add("non-selectable");const j=w.value,_=["touchmove","touchcancel","touchend","click"].map(G=>[j,G,"delayHide","passiveCapture"]);Ee(E,"tooltipTemp",_)}p(()=>{B(P)},e.delay)}function ne(P){d.platform.is.mobile===!0&&(ze(E,"tooltipTemp"),je(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),p(()=>{F(P)},e.hideDelay)}function Z(){if(e.noParentEvent===!0||w.value===null)return;const P=d.platform.is.mobile===!0?[[w.value,"touchstart","delayShow","passive"]]:[[w.value,"mouseenter","delayShow","passive"],[w.value,"mouseleave","delayHide","passive"]];Ee(E,"anchor",P)}function ue(){if(w.value!==null||e.scrollTarget!==void 0){N.value=Bt(w.value,e.scrollTarget);const P=e.noParentEvent===!0?K:F;A(N.value,P)}}function o(){return g.value===!0?C("div",{...u,ref:v,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",u.class],style:[u.style,D.value],role:"tooltip"},Ft(n.default)):null}function H(){return C(Mt,y.value,o)}return be(le),Object.assign(s.proxy,{updatePosition:K}),$}});export{Gl as Q,Jl as a,en as b};
