import{r as T,aX as Q,q as b,aN as V,f as _,o as x,k,aY as p,c as $,a1 as M,a3 as w,a as m,h as g,z as L,y as R,x as A,ap as D,ab as F,d as I}from"./index.5d785d06.js";import{Q as N}from"./QList.802a0d2a.js";import{u as P,a as H}from"./use-virtual-scroll.38a9e715.js";let v=0;const W={fullscreen:Boolean,noRouteFullscreenExit:Boolean},Z=["update:fullscreen","fullscreen"];function ee(){const e=k(),{props:t,emit:n,proxy:l}=e;let a,s,o;const r=T(!1);Q(e)===!0&&b(()=>l.$route.fullPath,()=>{t.noRouteFullscreenExit!==!0&&u()}),b(()=>t.fullscreen,i=>{r.value!==i&&f()}),b(r,i=>{n("update:fullscreen",i),n("fullscreen",i)});function f(){r.value===!0?u():c()}function c(){r.value!==!0&&(r.value=!0,o=l.$el.parentNode,o.replaceChild(s,l.$el),document.body.appendChild(l.$el),v++,v===1&&document.body.classList.add("q-body--fullscreen-mixin"),a={handler:u},p.add(a))}function u(){r.value===!0&&(a!==void 0&&(p.remove(a),a=void 0),o.replaceChild(l.$el,s),r.value=!1,v=Math.max(0,v-1),v===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),l.$el.scrollIntoView!==void 0&&setTimeout(()=>{l.$el.scrollIntoView()})))}return V(()=>{s=document.createElement("span")}),_(()=>{t.fullscreen===!0&&c()}),x(u),Object.assign(l,{toggleFullscreen:f,setFullscreen:c,exitFullscreen:u}),{inFullscreen:r,toggleFullscreen:f}}const O=["horizontal","vertical","cell","none"];var j=$({name:"QMarkupTable",props:{...M,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>O.includes(e)}},setup(e,{slots:t}){const n=k(),l=w(e,n.proxy.$q),a=m(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(l.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>g("div",{class:a.value},[g("table",{class:"q-table"},L(t.default))])}});function U(e,t){return g("div",e,[g("table",{class:"q-table"},t)])}const X={list:N,table:j},Y=["list","table","__qtable"];var le=$({name:"QVirtualScroll",props:{...P,type:{type:String,default:"list",validator:e=>Y.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:{default:void 0}},setup(e,{slots:t,attrs:n}){let l;const a=T(null),s=m(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:o,localResetVirtualScroll:r,padVirtualScroll:f,onVirtualScrollEvt:c}=H({virtualScrollLength:s,getVirtualScrollTarget:E,getVirtualScrollEl:y}),u=m(()=>{if(s.value===0)return[];const d=(z,C)=>({index:o.value.from+C,item:z});return e.itemsFn===void 0?e.items.slice(o.value.from,o.value.to).map(d):e.itemsFn(o.value.from,o.value.to-o.value.from).map(d)}),i=m(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),B=m(()=>e.scrollTarget!==void 0?{}:{tabindex:0});b(s,()=>{r()}),b(()=>e.scrollTarget,()=>{S(),q()});function y(){return a.value.$el||a.value}function E(){return l}function q(){l=D(y(),e.scrollTarget),l.addEventListener("scroll",c,F.passive)}function S(){l!==void 0&&(l.removeEventListener("scroll",c,F.passive),l=void 0)}function h(){let d=f(e.type==="list"?"div":"tbody",u.value.map(t.default));return t.before!==void 0&&(d=t.before().concat(d)),I(t.after,d)}return V(()=>{r()}),_(()=>{q()}),R(()=>{q()}),A(()=>{S()}),x(()=>{S()}),()=>{if(t.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?U({ref:a,class:"q-table__middle "+i.value},h()):g(X[e.type],{...n,ref:a,class:[n.class,i.value],...B.value},h)}}});export{le as Q,Z as a,ee as b,U as g,W as u};
