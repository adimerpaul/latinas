import{aP as re,ad as N,aG as le,aQ as se,a9 as z,aR as K,am as j,s as R,aa as X,r as L,a as v,q as Y,k as oe,a8 as ue,h as p,W as ce,aS as de,z as G,aT as ve,c as ie,a1 as pe,a3 as fe,f as me,o as ge,a5 as he,aU as ye,S as W,d as xe,_ as Ce,B as _e,E as $,F as H,G as E,H as I,I as U,U as J,V as Z,K as D,P as O,aV as be,aW as Pe,L as qe,J as ke}from"./index.c727bed4.js";import{g as ee,s as te}from"./touch.3df10340.js";import{c as Se}from"./selection.c3517afd.js";import{u as we,a as $e,b as Ie,Q as Te}from"./QVirtualScroll.e5597146.js";import{Q as Ae}from"./QImg.f1414a56.js";import{Q as Ve}from"./QPage.5b2fd950.js";import{url as Be,api as ne}from"./axios.ff4aff71.js";import"./QList.b82e450f.js";import"./use-virtual-scroll.f28afd27.js";function Ne(e){const n=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((l,f)=>{const i=parseFloat(l);i&&(n[f]=i)}),n}var Ee=re({name:"touch-swipe",beforeMount(e,{value:n,arg:l,modifiers:f}){if(f.mouse!==!0&&N.has.touch!==!0)return;const i=f.mouseCapture===!0?"Capture":"",t={handler:n,sensitivity:Ne(l),direction:ee(f),noop:le,mouseStart(o){te(o,t)&&se(o)&&(z(t,"temp",[[document,"mousemove","move",`notPassive${i}`],[document,"mouseup","end","notPassiveCapture"]]),t.start(o,!0))},touchStart(o){if(te(o,t)){const r=o.target;z(t,"temp",[[r,"touchmove","move","notPassiveCapture"],[r,"touchcancel","end","notPassiveCapture"],[r,"touchend","end","notPassiveCapture"]]),t.start(o)}},start(o,r){N.is.firefox===!0&&K(e,!0);const h=j(o);t.event={x:h.left,y:h.top,time:Date.now(),mouse:r===!0,dir:!1}},move(o){if(t.event===void 0)return;if(t.event.dir!==!1){R(o);return}const r=Date.now()-t.event.time;if(r===0)return;const h=j(o),y=h.left-t.event.x,u=Math.abs(y),x=h.top-t.event.y,c=Math.abs(x);if(t.event.mouse!==!0){if(u<t.sensitivity[1]&&c<t.sensitivity[1]){t.end(o);return}}else if(window.getSelection().toString()!==""){t.end(o);return}else if(u<t.sensitivity[2]&&c<t.sensitivity[2])return;const m=u/r,C=c/r;t.direction.vertical===!0&&u<c&&u<100&&C>t.sensitivity[0]&&(t.event.dir=x<0?"up":"down"),t.direction.horizontal===!0&&u>c&&c<100&&m>t.sensitivity[0]&&(t.event.dir=y<0?"left":"right"),t.direction.up===!0&&u<c&&x<0&&u<100&&C>t.sensitivity[0]&&(t.event.dir="up"),t.direction.down===!0&&u<c&&x>0&&u<100&&C>t.sensitivity[0]&&(t.event.dir="down"),t.direction.left===!0&&u>c&&y<0&&c<100&&m>t.sensitivity[0]&&(t.event.dir="left"),t.direction.right===!0&&u>c&&y>0&&c<100&&m>t.sensitivity[0]&&(t.event.dir="right"),t.event.dir!==!1?(R(o),t.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Se(),t.styleCleanup=S=>{t.styleCleanup=void 0,document.body.classList.remove("non-selectable");const _=()=>{document.body.classList.remove("no-pointer-events--children")};S===!0?setTimeout(_,50):_()}),t.handler({evt:o,touch:t.event.mouse!==!0,mouse:t.event.mouse,direction:t.event.dir,duration:r,distance:{x:u,y:c}})):t.end(o)},end(o){t.event!==void 0&&(X(t,"temp"),N.is.firefox===!0&&K(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(!0),o!==void 0&&t.event.dir!==!1&&R(o),t.event=void 0)}};if(e.__qtouchswipe=t,f.mouse===!0){const o=f.mouseCapture===!0||f.mousecapture===!0?"Capture":"";z(t,"main",[[e,"mousedown","mouseStart",`passive${o}`]])}N.has.touch===!0&&z(t,"main",[[e,"touchstart","touchStart",`passive${f.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,n){const l=e.__qtouchswipe;l!==void 0&&(n.oldValue!==n.value&&(typeof n.value!="function"&&l.end(),l.handler=n.value),l.direction=ee(n.modifiers))},beforeUnmount(e){const n=e.__qtouchswipe;n!==void 0&&(X(n,"main"),X(n,"temp"),N.is.firefox===!0&&K(e,!1),n.styleCleanup!==void 0&&n.styleCleanup(),delete e.__qtouchswipe)}});function De(){const e=new Map;return{getCache:function(n,l){return e[n]===void 0?e[n]=l:e[n]},getCacheWithFn:function(n,l){return e[n]===void 0?e[n]=l():e[n]}}}const Le={name:{required:!0},disable:Boolean},ae={setup(e,{slots:n}){return()=>p("div",{class:"q-panel scroll",role:"tabpanel"},G(n.default))}},Qe={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},Me=["update:modelValue","beforeTransition","transition"];function Fe(){const{props:e,emit:n,proxy:l}=oe(),{getCacheWithFn:f}=De();let i,t;const o=L(null),r=L(null);function h(a){const s=e.vertical===!0?"up":"left";b((l.$q.lang.rtl===!0?-1:1)*(a.direction===s?1:-1))}const y=v(()=>[[Ee,h,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),u=v(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),x=v(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),c=v(()=>`--q-transition-duration: ${e.transitionDuration}ms`),m=v(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),C=v(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),S=v(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);Y(()=>e.modelValue,(a,s)=>{const g=P(a)===!0?A(a):-1;t!==!0&&w(g===-1?0:g<A(s)?-1:1),o.value!==g&&(o.value=g,n("beforeTransition",a,s),ue(()=>{n("transition",a,s)}))});function _(){b(1)}function Q(){b(-1)}function T(a){n("update:modelValue",a)}function P(a){return a!=null&&a!==""}function A(a){return i.findIndex(s=>s.props.name===a&&s.props.disable!==""&&s.props.disable!==!0)}function M(){return i.filter(a=>a.props.disable!==""&&a.props.disable!==!0)}function w(a){const s=a!==0&&e.animated===!0&&o.value!==-1?"q-transition--"+(a===-1?u.value:x.value):null;r.value!==s&&(r.value=s)}function b(a,s=o.value){let g=s+a;for(;g>-1&&g<i.length;){const k=i[g];if(k!==void 0&&k.props.disable!==""&&k.props.disable!==!0){w(a),t=!0,n("update:modelValue",k.props.name),setTimeout(()=>{t=!1});return}g+=a}e.infinite===!0&&i.length!==0&&s!==-1&&s!==i.length&&b(a,a===-1?i.length:-1)}function V(){const a=A(e.modelValue);return o.value!==a&&(o.value=a),!0}function F(){const a=P(e.modelValue)===!0&&V()&&i[o.value];return e.keepAlive===!0?[p(ve,C.value,[p(S.value===!0?f(m.value,()=>({...ae,name:m.value})):ae,{key:m.value,style:c.value},()=>a)])]:[p("div",{class:"q-panel scroll",style:c.value,key:m.value,role:"tabpanel"},[a])]}function d(){if(i.length!==0)return e.animated===!0?[p(ce,{name:r.value},F)]:F()}function q(a){return i=de(G(a.default,[])).filter(s=>s.props!==null&&s.props.slot===void 0&&P(s.props.name)===!0),i.length}function B(){return i}return Object.assign(l,{next:_,previous:Q,goTo:T}),{panelIndex:o,panelDirectives:y,updatePanelsList:q,updatePanelIndex:V,getPanelContent:d,getEnabledPanels:M,getPanels:B,isValidPanelName:P,keepAliveProps:C,needsUniqueKeepAliveWrapper:S,goToPanelByOffset:b,goToPanel:T,nextPanel:_,previousPanel:Q}}var ze=ie({name:"QCarouselSlide",props:{...Le,imgSrc:String},setup(e,{slots:n}){const l=v(()=>e.imgSrc?{backgroundImage:`url("${e.imgSrc}")`}:{});return()=>p("div",{class:"q-carousel__slide",style:l.value},G(n.default))}});const Ue=["top","right","bottom","left"],Oe=["regular","flat","outline","push","unelevated"];var We=ie({name:"QCarousel",props:{...pe,...Qe,...we,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>Oe.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>Ue.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...$e,...Me],setup(e,{slots:n}){const{proxy:{$q:l}}=oe(),f=fe(e,l);let i=null,t;const{updatePanelsList:o,getPanelContent:r,panelDirectives:h,goToPanel:y,previousPanel:u,nextPanel:x,getEnabledPanels:c,panelIndex:m}=Fe(),{inFullscreen:C}=Ie(),S=v(()=>C.value!==!0&&e.height!==void 0?{height:e.height}:{}),_=v(()=>e.vertical===!0?"vertical":"horizontal"),Q=v(()=>`q-carousel q-panel-parent q-carousel--with${e.padding===!0?"":"out"}-padding`+(C.value===!0?" fullscreen":"")+(f.value===!0?" q-carousel--dark q-dark":"")+(e.arrows===!0?` q-carousel--arrows-${_.value}`:"")+(e.navigation===!0?` q-carousel--navigation-${M.value}`:"")),T=v(()=>{const d=[e.prevIcon||l.iconSet.carousel[e.vertical===!0?"up":"left"],e.nextIcon||l.iconSet.carousel[e.vertical===!0?"down":"right"]];return e.vertical===!1&&l.lang.rtl===!0?d.reverse():d}),P=v(()=>e.navigationIcon||l.iconSet.carousel.navigationIcon),A=v(()=>e.navigationActiveIcon||P.value),M=v(()=>e.navigationPosition||(e.vertical===!0?"right":"bottom")),w=v(()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0}));Y(()=>e.modelValue,()=>{e.autoplay&&b()}),Y(()=>e.autoplay,d=>{d?b():i!==null&&(clearTimeout(i),i=null)});function b(){const d=ye(e.autoplay)===!0?Math.abs(e.autoplay):5e3;i!==null&&clearTimeout(i),i=setTimeout(()=>{i=null,d>=0?x():u()},d)}me(()=>{e.autoplay&&b()}),ge(()=>{i!==null&&clearTimeout(i)});function V(d,q){return p("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${d} q-carousel__navigation--${M.value}`+(e.controlColor!==void 0?` text-${e.controlColor}`:"")},[p("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},c().map(q))])}function F(){const d=[];if(e.navigation===!0){const q=n["navigation-icon"]!==void 0?n["navigation-icon"]:a=>p(W,{key:"nav"+a.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${a.active===!0?"":"in"}active`,...a.btnProps,onClick:a.onClick}),B=t-1;d.push(V("buttons",(a,s)=>{const g=a.props.name,k=m.value===s;return q({index:s,maxIndex:B,name:g,active:k,btnProps:{icon:k===!0?A.value:P.value,size:"sm",...w.value},onClick:()=>{y(g)}})}))}else if(e.thumbnails===!0){const q=e.controlColor!==void 0?` text-${e.controlColor}`:"";d.push(V("thumbnails",B=>{const a=B.props;return p("img",{key:"tmb#"+a.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${a.name===e.modelValue?"":"in"}active`+q,src:a.imgSrc||a["img-src"],onClick:()=>{y(a.name)}})}))}return e.arrows===!0&&m.value>=0&&((e.infinite===!0||m.value>0)&&d.push(p("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${_.value} absolute flex flex-center`},[p(W,{icon:T.value[0],...w.value,onClick:u})])),(e.infinite===!0||m.value<t-1)&&d.push(p("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${_.value} absolute flex flex-center`},[p(W,{icon:T.value[1],...w.value,onClick:x})]))),xe(n.control,d)}return()=>(t=o(n),p("div",{class:Q.value,style:S.value},[he("div",{class:"q-carousel__slides-container"},r(),"sl-cont",e.swipeable,()=>h.value)].concat(F())))}});const Ke=_e({name:"IndexClientPage",setup(){return{slide:L(1),carousels:L([]),books:L([]),autoplay:!0,url:Be,capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)}}},mounted(){ne.get("carousels/allActive").then(e=>{this.carousels=e.data}).catch(e=>{console.log(e)}),ne.get("books").then(e=>{this.books=[],e.data.forEach(n=>{n.name=this.capitalizeFirstLetter(n.name.toLowerCase()),this.books.push(n)})}).catch(e=>{console.log(e)})}}),Re={class:"row"},Xe={class:"q-px-md text-bold text-grey-9 text-subtitle1 text-center"},Ye={class:"text-bold q-pl-lg text-bold text-red"},Ge={key:0,class:"text-grey subrayar"},je={class:"text-center text-bold text-grey-9",style:{height:"40px","line-height":"1.2"}},He={class:"q-pa-xs"};function Je(e,n,l,f,i,t){return $(),H(Ve,null,{default:E(()=>[I(We,{animated:"",modelValue:e.slide,"onUpdate:modelValue":n[0]||(n[0]=o=>e.slide=o),navigation:"",infinite:"",autoplay:e.autoplay,arrows:"","transition-prev":"slide-right","transition-next":"slide-left",onMouseenter:n[1]||(n[1]=o=>e.autoplay=!1),onMouseleave:n[2]||(n[2]=o=>e.autoplay=!0),class:"bg-grey-5 text-white shadow-1 rounded-borders",height:e.$q.screen.lt.md?"180px":"250px"},{default:E(()=>[($(!0),U(Z,null,J(e.carousels,(o,r)=>($(),H(ze,{key:r+1,name:r+1,"img-src":e.$q.screen.lt.md?`${e.url}uploads/${o.imageMobile}`:`${e.url}uploads/${o.image}`},null,8,["name","img-src"]))),128))]),_:1},8,["modelValue","autoplay","height"]),D("div",Re,[($(!0),U(Z,null,J(e.books,o=>($(),U("div",{class:"col-12",key:o.id},[D("div",Xe,O(o.name),1),I(Te,{items:o.books,"virtual-scroll-horizontal":""},{default:E(({item:r})=>[I(be,{class:"my-card cursor-pointer",onClick:h=>this.$router.push(`/book/${r.id}`)},{default:E(()=>[I(Ae,{src:`${e.url}uploads/${r.image}`,style:{width:"200px",height:"200px"}},null,8,["src"]),I(Pe,{class:"q-pa-none bg-grey-1"},{default:E(()=>[D("div",Ye,[qe(O(r.price)+" Bs ",1),r.priceOffer?($(),U("span",Ge,O(r.priceOffer)+" Bs ",1)):ke("",!0)]),D("div",je,O(e.capitalizeFirstLetter(r.name.toLowerCase())),1),D("div",He,[I(W,{class:"full-width q-pa-xs",color:"primary",label:"Ver",dense:"","no-caps":"",size:"sm",icon:"visibility",onClick:h=>this.$router.push(`/book/${r.id}`)},null,8,["onClick"])])]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1032,["items"])]))),128))])]),_:1})}var st=Ce(Ke,[["render",Je],["__scopeId","data-v-1c14b421"]]);export{st as default};
