import{_ as p,E as n,F as h,G as o,H as e,I as u,K as s,aV as c,aW as r,b0 as f,b1 as m,Q as d,S as _,L as v}from"./index.8dce9e30.js";import{Q as x}from"./QForm.e5388964.js";import{Q as b}from"./QPage.3dd0da3b.js";import{a as w,b as y}from"./QLayout.d4c1a4ec.js";const P={name:"LoginPage",data(){return{version:{}.VITE_VERSION,showPassword:!1,option:"login",loading:!1,user:{username:"admin",password:"admin123Admin",confirmPassword:"admin123Admin",name:"Administrador"}}},created(){console.log("http://localhost:8000/api/"),this.$store.isLogin&&this.$router.push("/")},methods:{login(){this.loading=!0,this.$axios.post("users/login",this.user).then(i=>{this.$store.user=i.data.user,localStorage.setItem("tokenLatinas",i.data.token),this.$store.isLogin=!0,this.$router.push("/admin"),this.$alert.success("Bienvenido "+i.data.user.name)}).catch(i=>{console.log(i.response.data.message),this.$alert.error(i.response.data.message)}).finally(()=>{this.loading=!1})}}},Q={key:0,class:"row"},V={class:"col-12 col-md-4 offset-md-4"},k=s("img",{alt:"Logo",src:"logo.png",style:{width:"120px"}},null,-1),L={class:"row"},B=s("div",{class:"col-12 text-subtitle1 text-center text-bold",style:{"line-height":"1.0"}},[s("div",{class:"text-subtitle2 text-grey"},"Bienvenido a"),s("div",{class:"text-h5 text-bold q-mb-md"},[v(" La latinas "),s("span",{class:"text-caption text-grey"})])],-1),I={class:"col-12"},C={class:"col-12"},S={class:"col-12"},q={key:1,class:"row"},E={class:"col-12 col-md-8 offset-md-2"},N=s("div",{class:"row"},[s("div",{class:"col-12 text-subtitle1 text-center text-bold",style:{"line-height":"1.0"}},[s("div",{class:"text-subtitle2 text-grey"},"Datos del negocio")]),s("div",{class:"col-12"})],-1);function A(i,a,U,F,t,g){return n(),h(w,null,{default:o(()=>[e(y,null,{default:o(()=>[e(b,{class:"dark-overlay"},{default:o(()=>[t.option==="login"?(n(),u("div",Q,[s("div",V,[e(c,{class:"q-ma-md",flat:"",bordered:""},{default:o(()=>[e(r,{class:"flex flex-center"},{default:o(()=>[k]),_:1}),e(r,null,{default:o(()=>[e(x,{onSubmit:f(g.login,["prevent"])},{default:o(()=>[s("div",L,[B,s("div",I,[e(m,{modelValue:t.user.username,"onUpdate:modelValue":a[0]||(a[0]=l=>t.user.username=l),label:"Username",outlined:"",rounded:"",rules:[l=>l.length>3||"El usuario debe tener al menos 4 caracteres"]},{prepend:o(()=>[e(d,{name:"o_person"})]),_:1},8,["modelValue","rules"])]),s("div",C,[e(m,{modelValue:t.user.password,"onUpdate:modelValue":a[2]||(a[2]=l=>t.user.password=l),label:"Password",type:t.showPassword?"text":"password",outlined:"",rounded:"",rules:[l=>l.length>5||"La contrase\xF1a debe tener al menos 6 caracteres"]},{prepend:o(()=>[e(d,{name:"o_lock"})]),append:o(()=>[e(d,{name:t.showPassword?"o_visibility":"o_visibility_off",onClick:a[1]||(a[1]=l=>t.showPassword=!t.showPassword)},null,8,["name"])]),_:1},8,["modelValue","type","rules"])]),s("div",S,[e(_,{color:"primary",label:"Ingresar",class:"q-mt-md text-bold full-width",rounded:"",type:"submit",loading:t.loading},null,8,["loading"]),e(_,{color:"primary",label:"Registrarse",class:"q-mt-md text-bold full-width",rounded:"",outline:"",onClick:a[3]||(a[3]=l=>t.option="register"),loading:t.loading},null,8,["loading"])])])]),_:1},8,["onSubmit"])]),_:1})]),_:1})])])):(n(),u("div",q,[s("div",E,[e(c,{class:"q-ma-md",flat:"",bordered:""},{default:o(()=>[e(r,null,{default:o(()=>[N]),_:1})]),_:1})])]))]),_:1})]),_:1})]),_:1})}var H=p(P,[["render",A]]);export{H as default};
